<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
JSON 指的是 JavaScript 对象表示法（JavaScript Object Notation）
JSON 是轻量级的文本数据交换格式
JSON 独立于语言：JSON 使用 Javascript语法来描述数据对象，但是 JSON 仍然独立于语言和平台。JSON 解析器和 JSON 库支持许多不同的编程语言。 目前非常多的动态（PHP，JSP，.NET）编程语言都支持JSON。
JSON 具有自我描述性，更易理解

JSON 文本格式在语法上与创建 JavaScript 对象的代码相同。
由于这种相似性，无需解析器，JavaScript 程序能够使用内建的 eval() 函数，用 JSON 数据来生成原生的 JavaScript 对象。

        json是存储和交换文本信信息的语法，前后端数据转换
        1.数据类型可以是字符串，数值和数组，但是属性名必须双引号不能是单引号
        2.json中允许的值只有6种：
        （1）字符串、
        （2）数值、
        （3）数组、[]  之间的值用,来隔开（英文逗号），其中的值也是这6中可以用。
        （4）布尔值、
        （5）null、
        （6）对象。{} 每个属性名需要用"" 双引号引用，属性名和属性值之间用:冒号隔开、 每个属性对见用逗号隔开，注意最后一个不能加,
        函数，undefined等不能使用。
        3.json中的对象之后json自己认识，其他语言不认识。
        4.json就是一个特殊格式的字符串，这个字符串可以被任意语言所识别，并可以转换为任意语言
        5.json分类（1）对象（2）数组

        注意，json格式的对象，属性名和字符串类型的值必须是双引号
        ie7以下的不能直接使用。
     {
    "name":"海绵宝宝",
    "age":18,
    "arr":[10,20,30],
    "flag":true,
    "mull":null,
    "un":{"no":"1001"}
    
}

如何吧JSON转换为js对象？  JSON.parse(参数)

JSON.parse()
JSON 通常用于与服务端交换数据。
在接收服务器数据时一般是字符串。
我们可以使用 JSON.parse() 方法将数据转换为 JavaScript 对象。
语法
JSON.parse(text[, reviver])
参数说明：
text:必需， 一个有效的 JSON 字符串。
reviver: 可选，一个转换结果的函数， 将为对象的每个成员调用此函数。

如何吧js格式转换为JSON格式？ JSON.stringify(参数)


与 XML 相同之处
JSON 是纯文本
JSON 具有"自我描述性"（人类可读）
JSON 具有层级结构（值中存在值）
JSON 可通过 JavaScript 进行解析
JSON 数据可使用 AJAX 进行传输
与 XML 不同之处
没有结束标签
更短
读写的速度更快
能够使用内建的 JavaScript eval() 方法进行解析
使用数组
不使用保留字


对于 AJAX 应用程序来说，JSON 比 XML 更快更易使用：
使用 XML:
读取 XML 文档
使用 XML DOM 来循环遍历文档
读取值并存储在变量中
使用 JSON:
读取 JSON 字符串
用 eval() 处理 JSON 字符串
     -->
    <h2>JavaScript 创建 JSON 对象</h2>
    <p>
        网站名称: <span id="jname"></span><br />
        网站地址: <span id="jurl"></span><br />
        网站 slogan: <span id="jslogan"></span><br />
    </p>
    <p id="demo"></p>
    <p id="demos"></p>

    <script>
        var obj = { "name": "派大星", "age": 18, "sno": "1001" };
        console.log(obj);//{name: "派大星", age: 18, sno: "1001"}
        var obj1 = '{ "name": "章鱼哥", "age": 19, "sno": "1002" }';
        console.log(obj1);//{ "name": "章鱼哥", "age": 19, "sno": "1002" } ---JSON格式
        console.log(JSON);//JSON {Symbol(Symbol.toStringTag): "JSON", parse: ƒ, stringify: ƒ}  ---小写的JSON会出错

        /* 
  JSON {Symbol(Symbol.toStringTag): "JSON", parse: ƒ, stringify: ƒ}
parse: ƒ parse()
stringify: ƒ stringify()
Symbol(Symbol.toStringTag): "JSON"
        */

        /*  */

        var obj2 = JSON.parse(obj1);
        console.log(obj2);//{name: "章鱼哥", age: 19, sno: "1002"}

        var obj3 = { "name": "白浅", "age": 17, "sno": "1003" };
        console.log(obj3);//{ name: "白浅", age: 17, sno: "1003" };
        var obj4 = JSON.stringify(obj3);
        console.log(obj4);//{"name":"白浅","age":17,"sno":"1003"}

        for (var key in obj1) {
            console.log(obj1[key]);
        }
        for (var key2 in obj4) {
            console.log(obj4[key2]);
        }

        var arr = '[10, 20, 30, "hello"]';
        console.log(arr);//[10, 20, 30, "hello"]
        var arr1 = JSON.parse(arr);
        console.log(arr1);//[10, 20, 30, "hello"]
        var arr0 = [10, 20, 30, { "name": "星星" }, 'world'];
        console.log(arr0);//(5) [10, 20, 30, {…}, "world"]
        var arr2 = JSON.stringify(arr0);
        console.log(arr2);//[10,20,30,{"name":"星星"},"world"]

        // 兼容性--ie7以下不认识JSON

        var str = 'alert("hello")';
        console.log(str);//alert("hello")
        // eval(str);//将弹出hello框 ---可以识别JSON


        var str1 = eval('str');
        console.log(str1);//alert("hello")
        var json1 = eval('arr2');
        console.log(json1);//[10,20,30,{"name":"星星"},"world"]
        var json2 = eval('(' + json1 + ')');
        console.log(json2);//(5) [10, 20, 30, {…}, "world"]

        // var json_arr = json2.toJSONString();
        // console.log(json_arr);
    </script>

    <script>
        var JSONObject = {
            "name": "菜鸟教程",
            "url": "www.runoob.com",
            "slogan": "学的不仅是技术，更是梦想！"
        };
        document.getElementById("jname").innerHTML = JSONObject.name
        document.getElementById("jurl").innerHTML = JSONObject.url
        document.getElementById("jslogan").innerHTML = JSONObject.slogan


        /* 

  如果从服务端接收的是数组的 JSON 数据，则 JSON.parse 会将其转换为 JavaScript 数组：
 JSON 不能存储 Date 对象。
如果你需要存储 Date 对象，需要将其转换为字符串。
之后再将字符串转换为 Date 对象。
        */
        var text = '{ "name":"Runoob", "initDate":"2013-12-14", "site":"www.runoob.com"}';
        var obj9 = JSON.parse(text);
        obj9.initDate = new Date(obj9.initDate);

        document.getElementById("demo").innerHTML = obj9.name + "创建日期: " + obj9.initDate;

        /* 
        JSON 不允许包含函数，但你可以将函数作为字符串存储，之后再将字符串转换为函数。不建议在 JSON 中使用函数。
        */

        var txt = '{ "name":"Runoob", "alexa":"function () {return 10000;}", "site":"www.runoob.com"}';
        var objs = JSON.parse(txt);
        objs.alexa = eval("(" + objs.alexa + ")");

        document.getElementById("demos").innerHTML = objs.name + " Alexa 排名：" + objs.alexa();

        /* 
JSON.stringify()
JSON 通常用于与服务端交换数据。
在向服务器发送数据时一般是字符串。
我们可以使用 JSON.stringify() 方法将 JavaScript 对象转换为字符串。
语法
JSON.stringify(value[, replacer[, space]])
参数说明：
value:
必需， 要转换的 JavaScript 值（通常为对象或数组）。
replacer:
可选。用于转换结果的函数或数组。
如果 replacer 为函数，则 JSON.stringify 将调用该函数，并传入每个成员的键和值。使用返回值而不是原始值。如果此函数返回 undefined，则排除成员。根对象的键是一个空字符串：""。
如果 replacer 是一个数组，则仅转换该数组中具有键值的成员。成员的转换顺序与键在数组中的顺序一样。当 value 参数也为数组时，将忽略 replacer 数组。
space:
可选，文本添加缩进、空格和换行符，如果 space 是一个数字，则返回值文本在每个级别缩进指定数目的空格，如果 space 大于 10，则文本缩进 10 个空格。space 也可以使用非数字，如：\t。
        
        */


        /* 
        由于 JSON 语法是 JavaScript 语法的子集，JavaScript 函数 eval() 可用于将 JSON 文本转换为 JavaScript 对象。
eval() 函数使用的是 JavaScript 编译器，可解析 JSON 文本，然后生成 JavaScript 对象。必须把文本包围在括号中，这样才能避免语法错误：
var obj = eval ("(" + txt + ")");


eval() 函数可编译并执行任何 JavaScript 代码。
        
        */
    </script>
</body>

</html>