{"version":3,"file":"js/598.79d02042.js","mappings":"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","sources":["webpack://ele/./src/views/order/index.vue","webpack://ele/src/views/order/index.vue","webpack://ele/./src/views/order/index.vue?e857","webpack://ele/./src/views/order/index.vue?90bb","webpack://ele/./src/api/order.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('my-nav-bar',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('div',{staticClass:\"lefts\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}})],1)]},proxy:true},{key:\"center\",fn:function(){return [_c('div',[_vm._v(\" 订单列表 \")])]},proxy:true}])}),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"item_left\"},[_c('img',{attrs:{\"src\":`https://elm.cangdu.org/img/${item.restaurant_image_url}`,\"alt\":\"\"}})]),_c('div',{staticClass:\"item_right\"},[_c('div',{staticClass:\"rigth_one\"},[_c('span',{staticClass:\"shopName\"},[_vm._v(\" \"+_vm._s(item.restaurant_name)+\" \"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('span',[_vm._v(\" \"+_vm._s(item.status_bar.title)+\" \")])]),_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(item.order_time)+\" \")]),_c('div',{staticClass:\"num\"},[_c('span',[_vm._v(_vm._s(item.basket.group[0][0].name))]),_c('span',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(item.total_amount))])]),_c('div',[(item.status_bar.title!='支付超时')?_c('div',{staticClass:\"pay\"},[_vm._v(\" 去支付 \")]):_c('div',{staticClass:\"pay pays\"},[_vm._v(\" 再来一单 \")])])])])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n      <my-nav-bar>\n          <!-- 具名插槽 -->\n          <template #left>\n              <div class=\"lefts\">\n                  <van-icon name=\"arrow-left\" @click=\"$router.go(-1)\"></van-icon>\n              </div>\n          </template>\n          <template #center>\n              <div>\n                  订单列表\n              </div>\n          </template>\n      </my-nav-bar>\n      <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n      <div class=\"list\">\n          <div class=\"item\" v-for=\"(item,index) in list\" :key=\"index\">\n              <div class=\"item_left\"> \n                  <img :src=\"`https://elm.cangdu.org/img/${item.restaurant_image_url}`\" alt=\"\">\n              </div>\n              <div class=\"item_right\">\n                  <div class=\"rigth_one\">\n                      <span class=\"shopName\">\n                        {{item.restaurant_name}} \n                          <van-icon name=\"arrow\" />\n                      </span>\n                      <span>\n                        {{item.status_bar.title}} \n                      </span>\n                  </div>\n                  <div class=\"time\">\n                    {{item.order_time}}\n                  </div>\n                  <div class=\"num\">\n                   \n                      <span>{{item.basket.group[0][0].name}}</span>\n                      <span class=\"price\">¥{{item.total_amount}}</span>\n                  </div>\n                  <div>\n                      <div class=\"pay\" v-if=\"item.status_bar.title!='支付超时'\">\n                            去支付\n                      </div>\n                          <div class=\"pay pays\" v-else>\n                           再来一单\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n    </van-pull-refresh>\n  </div>\n</template>\n<script>\nimport { getOrderList } from '@/api/order';\nimport { Toast } from 'vant';\nexport default {\n  data() {\n      return {\n          list:[],\n          query:{\n            limit:10,\n            offset:0\n          },\n          isLoading:false\n      }\n  },\n  created(){\n    this.getList();\n  },\n  methods:{\n    async getList(){\n      let res  = await getOrderList(this.$store.state.user_id,this.query)\n      console.log(res)\n      if(res.data.length ==0){\n        Toast.fail(\"没有更多数据！\")\n      this.isLoading = false\n        return\n      }\n      this.list = res.data;\n      this.isLoading = false\n    },\n    onRefresh(){\n       this.query.offset+=10\n       this.isLoading = true;\n       this.getList();\n    }\n  },\n}\n</script>\n<style scoped>\n.list{\npadding-bottom: 13.33333vw;\n}\n.item{\n  display: flex;\n  margin-bottom: 20px;\n  padding: 15px;\n      background: #fff;\n}\n.item_left{\n  width: 15%;\n}\n.item_left img{\n  width: 100%;\n}\n.item_right{\n  width: 85%;\n  font-size: 13px;\n  color: #666;\n  padding: 0 10px;\n}\n.rigth_one{\n  display: flex;\n  justify-content: space-between;\n}\n.shopName{\n  font-size: 17px;\n  color: #333;\n}\n.time{\n  padding: 8px 0;\n  border-bottom: 1px solid #f1f1f1;\n}\n.num{\n  padding: 10px 0;\n  display: flex;\n  justify-content: space-between;\n    border-bottom: 1px solid #f1f1f1;\n}\n.price{\n  color: #f60;\n  font-size: 16px;\n  font-weight: bold;\n}\n.pay{\n  padding: 3px;\n  border: 1px solid;\n  display: inline-block;\n  margin-top: 10px;\n  float: right;\n  border-radius: 5px;\n  font-size: 12px;\n  color: orange;\n  border: 1px solid orange;\n}\n.pays{\n  color: #3190e8;\n   border: 1px solid #3190e8;\n}\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66348094&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=66348094&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66348094\",\n  null\n  \n)\n\nexport default component.exports","import { postRequest,requestGet } from \"@/utils/requset\";\n\n// 生成订单\nlet createOrder = (data)=> postRequest(`/v1/carts/checkout`,data);\n\n//  获取收获地址\nlet getAddressList = (user_id)=> requestGet(`/v1/users/${user_id}/addresses`)\n\n//  用户下单\nlet orderDon = (user_id,cart_id,data)=>postRequest(`/v1/users/${user_id}/carts/${cart_id}/orders`,data);\n\n// 获取订单列表\nlet getOrderList = (user_id,data)=>requestGet(`/bos/v2/users/${user_id}/orders`,data)\nexport{\n    createOrder,\n    getAddressList,\n    orderDon,\n    getOrderList\n}"],"names":["render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","attrs","on","$event","$router","go","proxy","_v","onRefresh","model","value","isLoading","callback","$$v","expression","_l","list","item","index","restaurant_image_url","_s","restaurant_name","status_bar","title","order_time","basket","group","name","total_amount","staticRenderFns","data","query","limit","offset","created","methods","console","Toast","component","createOrder","postRequest","getAddressList","user_id","requestGet","orderDon","cart_id","getOrderList"],"sourceRoot":""}