<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div id="app">
        <table border="1">
            <tr>
                <th>名称</th>
                <th>价格</th>
                <th>数量</th>
                <th>操作</th>
            </tr>
            <tr v-for="(item,index) in goods" :key="index">
                <td>{{item.name}}</td>
                <td>{{item.price}}</td>
                <td>
                    <button @click="item.num--" :class="{red:item.num>0}">-</button>
                    {{item.num}}
                    <button @click="item.num++" :class="{red:item.num<10}">+</button>

                </td>
                <td>
                    <button @click="goods.splice(index,1)">删除</button>
                </td>

            </tr>
        </table>
        <h1>商品总价：{{getSum}}</h1>
    </div>
</body>
<script src="../bin/vue-2.7.10.js"></script>
<script>
    /* 2022年9月6日09:54:58 */
    new Vue({
        el: "#app",
        data: {
            goods: [
                {
                    name: '辣条',
                    price: 5,
                    num: 2
                },
                {
                    name: '巧克力',
                    price: 35,
                    num: 3
                },
                {
                    name: '奶茶',
                    price: 15,
                    num: 1
                },
                {
                    name: '烤箱',
                    price: 2099,
                    num: 1
                },
            ]

        },
        // 定义计算属性。
        computed: {
            getSum() {
                let sum = 0;
                this.goods.forEach(item => {
                    let goodsPrice = item.num * item.price;
                    sum += goodsPrice;
                });
                return sum;
            }
        }
        /* 计算属性的特点
        1.必须要有return值，
        2.计算属性所依赖的数据发生改变时就会重新调用。
        3.计算属性使用时和data中存放的数据使用方法一样 ---双大括号属性名即可。
        
        */
    })
</script>

</html>