<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #app {
            width: 800px;
            margin: 0 auto;
        }

        input {
            width: 100%;
            height: 30px;
        }

        textarea {
            width: 100%;
        }

        .item {
            padding: 10px 0;
            border-bottom: 1px solid #b4b4b4;
        }

        .item>div {
            margin-top: 10px;
        }

        .item button {
            float: right;
        }

        .tigs {
            border: none;
            outline: none;
            box-sizing: border-box;
            padding: 0 30px;
            color: red;
        }
    </style>
</head>

<body>
    <div id="app">
        <my-component-one></my-component-one>
        <my-component-two></my-component-two>

    </div>
    <template id="one">
        <div class="one">
            <div>
                <h2>请输入评论人</h2>
                <input type="text" v-model="info.name">

            </div>
            <div>
                <h2>请输入评论内容</h2>
                <input type="text" name="" id="" v-model="info.content">
            </div>
            <div>
                <input type="text" v-model="tigs" class="tigs"></input>
                <button @click="send">发表</button>
            </div>

        </div>

    </template>
    <template id="two">
        <div>
            <h1>留言板</h1>
            <div v-for="(item,index) in list" :key="index" class="item">
                <div>
                    作者：{{item.name}}
                </div>
                <div>
                    内容：{{item.content}}
                    <button>删除</button>
                </div>

            </div>
        </div>

    </template>
</body>
<script src="../bin/vue-2.7.10.js"></script>
<script>
    /* 2022年9月9日09:01:26 */
    let bus = new Vue();
    let myComponentOne = {
        template: "#one",
        data() {
            return {
                tigs: "",
                info: {
                    name: "",
                    content: "",
                }
            }
        },
        methods: {
            send() {
                console.log(this.info);
                if (this.info.name == "" || this.info.name == "") {
                    this.tigs = "请完善信息!!!!"
                } else {
                    bus.$emit("sendinfo", this.info);
                }


            }
        }

    }
    let myComponentTwo = {
        template: "#two",
        data() {
            return {
                list: [
                    {
                        name: "小明",
                        content: "小明是个帅哥"
                    },
                    {
                        name: "小红",
                        content: "小红是个美女"
                    }
                ]
            }
        },
        created() {
            bus.$on("sendinfo", (value) => {
                console.log(value);
                this.list.push(value)
            })
        }
    }
    new Vue({
        el: "#app",
        components: {
            myComponentOne,
            myComponentTwo,
        }

    })
</script>

</html>