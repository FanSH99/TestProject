<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div id="app"></div>
</body>
<script src="../js/react17.js"></script>
<script src="../js/react_dom17.js"></script>
<!-- 引入babel.js将jsx转化为js -->
<script src="../js/babel7_min.js"></script>
<script type="text/babel">

    // 2022年11月20日14:33:55

    let { useState, useRef } = React;
    function App() {
        let h1Ref = useRef();
        let childRef = useRef();
        let inputRef = useRef();
        let [name, setName] = useState("张三");

        return (
            <div>
                <h1 ref={h1Ref}>昨夜雨疏风骤浓睡不消残酒</h1>
                <button onClick={() => {
                    console.log(h1Ref);
                    console.log(h1Ref.current);
                    h1Ref.current.style.color = "red"
                }}>获取h1</button>
                {/* useRef只能获取标签实例，不能获取组件实例，下面报错。
                Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?  
             <Child ref={childRef} />
                <button onClick={() => {
                    console.log(childRef);
                }}>获取子组件</button>
            */}
                {/* 受控组件 */}

                <input type="text" value={name} onChange={(e) => {
                    setName(e.target.value)
                }} /> {name}
                <div>
                    {/* 非受控组件 */}
                    <input type="text" ref={inputRef} />
                    <button onClick={
                        () => {
                            console.log(inputRef.current.value);
                        }
                    }>获取输入框内容</button>
                </div>
            </div >
        )
    }

    function Child() {
        return (
            <div>子组件</div>
        )
    }
    ReactDOM.render(<App />, document.getElementById("app"))

</script>

</html>