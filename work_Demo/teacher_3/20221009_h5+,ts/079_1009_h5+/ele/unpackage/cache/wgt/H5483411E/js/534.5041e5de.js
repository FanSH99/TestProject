"use strict";(self["webpackChunkele"]=self["webpackChunkele"]||[]).push([[534],{9534:function(t,s,i){i.r(s),i.d(s,{default:function(){return d}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"select"},[s("div",[s("div",{staticClass:"title"},[t._v(" 配送方式 ")]),s("div",t._l(t.songList,(function(i,e){return s("div",{key:e,staticClass:"song_name",style:{color:i.is_solid?"":"#"+i.color},on:{click:function(s){return t.selectModel(i)}}},[s("van-icon",{attrs:{name:i.is_solid?"eye-o":"success"}}),t._v(" "+t._s(i.text))],1)})),0),s("div",{staticClass:"attr_title"},[t._v(" 商家属性（可以多选） ")]),s("div",{staticClass:"attr_list"},t._l(t.arrtList,(function(i,e){return s("div",{key:e,class:{active:i.isSelect},on:{click:function(s){return t.changeAttr(e)}}},[s("van-icon",{directives:[{name:"show",rawName:"v-show",value:i.isSelect,expression:"item.isSelect"}],attrs:{name:"success"}}),s("van-tag",{directives:[{name:"show",rawName:"v-show",value:!i.isSelect,expression:"!item.isSelect"}],attrs:{plain:"",color:"#"+i.icon_color}},[t._v(t._s(i.icon_name))]),t._v(" "+t._s(i.name)+" ")],1)})),0)]),s("div",{staticClass:"btn"},[s("div",{staticClass:"clear",on:{click:t.clear}},[t._v(" 清空 ")]),s("div",{staticClass:"confirm",on:{click:t.confirm}},[t._v(" 确定 "),s("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.getSum,expression:"getSum!=0"}]},[t._v("("+t._s(t.getSum)+")")])])])])},a=[],r=(i(7658),i(2499)),n={props:["latitude","longitude"],data(){return{songList:[],arrtList:[],modeList:[],shopList:[],isRemove:!1}},async created(){let t={latitude:this.latitude,longitude:this.longitude},s=await(0,r.ed)(t);this.songList=s.data;let i=await(0,r.di)(t);this.arrtList=i.data,this.arrtList.forEach((t=>{t.isSelect=!1})),console.log(this.arrtList)},methods:{changeAttr(t){if(this.arrtList[t].isSelect=!this.arrtList[t].isSelect,this.arrtList=this.arrtList.concat([]),this.arrtList[t].isSelect)this.shopList.push(this.arrtList[t]);else{let s=this.shopList.findIndex((s=>s.id===this.arrtList[t].id));-1!==s&&this.shopList.splice(s,1)}},selectModel(t){if(t.is_solid=!t.is_solid,console.log(t.is_solid),t.is_solid){let s=this.modeList.findIndex((s=>s.id===t.id));-1!=s&&this.modeList.splice(s,1)}else this.modeList.push(t)},clear(){this.modeList=[],this.shopList=[],this.songList.forEach((t=>{t.is_solid=!0})),this.arrtList.forEach((t=>{t.isSelect=!1}))},confirm(){this.$emit("sendidlist",this.modeList,this.shopList)}},computed:{getSum(){return this.modeList.length+this.shopList.length}}},o=n,l=i(1001),c=(0,l.Z)(o,e,a,!1,null,"9945c4f4",null),d=c.exports},2499:function(t,s,i){i.d(s,{di:function(){return n},ed:function(){return r},hN:function(){return a}});var e=i(6938);let a=t=>(0,e.P)("/shopping/v2/restaurant/category",t),r=t=>(0,e.P)("/shopping/v1/restaurants/delivery_modes",t),n=t=>(0,e.P)("/shopping/v1/restaurants/activity_attributes",t)}}]);
//# sourceMappingURL=534.5041e5de.js.map