{"version":3,"file":"js/425.eaa41d76.js","mappings":"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","sources":["webpack://ele/./src/views/city/index.vue","webpack://ele/src/views/city/index.vue","webpack://ele/./src/views/city/index.vue?ce4c","webpack://ele/./src/views/city/index.vue?cee4","webpack://ele/./src/api/city.js","webpack://ele/./src/tools/loadingToast.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('my-nav-bar',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_vm._v(\" ele.me \")]},proxy:true},{key:\"right\",fn:function(){return [(!_vm.$store.state.user_id)?_c('div',[_vm._v(\"登录 | 注册\")]):_c('div',[_c('van-icon',{attrs:{\"name\":\"contact\"}})],1)]},proxy:true}])}),_c('div',{staticClass:\"guess\"},[_vm._m(0),_c('div',{staticClass:\"cityname\",on:{\"click\":function($event){return _vm.goCityInfo(_vm.city.id)}}},[(_vm.city)?_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.city.name)+\" \")]):_vm._e(),_c('span',{staticClass:\"right\"},[_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"hot\"},[_c('div',{staticClass:\"hotCity\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 热门城市 \")]),_c('div',{staticClass:\"cityList\"},_vm._l((_vm.hotList),function(item,index){return _c('div',{key:index,on:{\"click\":function($event){return _vm.goCityInfo(item.id)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)])]),_c('div',{staticClass:\"allCity\"},_vm._l((_vm.allList),function(item,index){return _c('div',{key:index,staticClass:\"hotCity\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(item.title)+\" \"),(index==0)?_c('span',[_vm._v(\"(按字母排序)\")]):_vm._e()]),_c('div',{staticClass:\"cityList\"},_vm._l((item.list),function(value,i){return _c('div',{key:i,staticClass:\"cityname\",on:{\"click\":function($event){return _vm.goCityInfo(value.id)}}},[_vm._v(\" \"+_vm._s(value.name)+\" \")])}),0)])}),0)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',{staticClass:\"guess_one\"},[_vm._v(\"当前定位城市\")]),_c('span',{staticClass:\"guess_two\"},[_vm._v(\" 定位不准时请在城市列表选择 \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n   <my-nav-bar>\n     <template #left>\n            ele.me\n     </template>\n   \n     <template #right>\n        <div v-if=\"!$store.state.user_id\">登录 | 注册</div>\n        <div v-else>\n          <van-icon name=\"contact\" />\n        </div>\n     </template>\n   </my-nav-bar>\n   <div class=\"guess\">\n        <div>\n            <span class=\"guess_one\">当前定位城市</span>\n            <span class=\"guess_two\"> 定位不准时请在城市列表选择 </span>\n        </div>\n        <div class=\"cityname\" @click=\"goCityInfo(city.id)\">\n            <span class=\"name\" v-if=\"city\">\n                {{city.name}}\n            </span>\n            <span class=\"right\">\n                <van-icon name=\"arrow\" />\n            </span>\n        </div>\n   </div>\n   <div class=\"hot\">\n    <div class=\"hotCity\">\n    <div class=\"title\">\n        热门城市\n    </div>\n    <div class=\"cityList\">\n        <div v-for=\"(item,index) in hotList\" :key=\"index\" @click=\"goCityInfo(item.id)\">\n            {{item.name}}\n        </div>\n    </div>\n   </div>\n   </div>\n   <div class=\"allCity\">\n    <div class=\"hotCity\" v-for=\"(item,index) in allList\" :key=\"index\">\n    <div class=\"title\">\n        {{item.title}} <span v-if=\"index==0\">(按字母排序)</span>\n    </div>\n    <div class=\"cityList\">\n        <div v-for=\"(value,i) in item.list\" :key=\"i\" class=\"cityname\" @click=\"goCityInfo(value.id)\">\n            {{value.name}}\n        </div>\n    </div>\n   </div>\n   </div>\n  </div>\n</template>\n<script>\n// 导入获取城市列表Api\nimport { getCityLitst } from '@/api/city';\nimport { hideLoading, showLoading } from '@/tools/loadingToast';\nexport default {\n  data(){\n    return {\n       city:null,\n       hotList:[],\n       allList:[]\n    }\n  },\n async created(){\n    showLoading();\n    // 获取当前定位城市\n    let res = await getCityLitst({type:\"guess\"});\n    this.city = res.data;\n    // 获取热门城市\n    let hotCity = await getCityLitst({type:\"hot\"});\n    console.log(hotCity)\n    this.hotList = hotCity.data;\n    // 获取所有城市\n    let allCity = await getCityLitst({type:\"group\"});\n    console.log(allCity.data)\n    let keyList = [];\n    // for in 遍历对象得到每一个key\n    for(let key in allCity.data){\n        keyList.push(key)\n    }\n    // 将字母排序\n    keyList = keyList.sort();\n    keyList.forEach(item=>{\n        let obj = {\n            title:item,\n            list:allCity.data[item]\n        }\n        this.allList.push(obj)\n    })\n    hideLoading();\n  },\n  methods:{\n    // 跳转城市详情\n    goCityInfo(id){\n        console.log(id)\n        this.$router.push({\n            path:\"/city/\"+id\n        })\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.guess{\n    width: 100%;\n    background: #fff;\n    border-bottom: 1px solid #E4E4E4;\n    div{\n        display: flex;\n        justify-content: space-between;\n        padding: 13px 10px;\n        font-size: 13px;\n        border-bottom: 1px solid #e4e4e4;\n        .guess_one{\n            color:#666\n        }\n        .guess_two{\n            color: #9f9f9f;\n            font-weight: bold;\n        }\n    }\n    .cityname{\n        font-size: 15px;\n        .name{\n            color:#3190e8\n        }\n        .right{\n            font-size: 17px;\n            color:#999\n        }\n    }\n}\n.hot{\n    margin: 15px auto;\n    \n    border-top: 2px solid #e4e4e4;\n}\n.hotCity{\n    width: 100%;\n    background: #fff;\n    .title{\n        padding: 10px 12px;\n        font-size: 13px;\n        color: #666;\n        border-bottom: 1px solid #e4e4e4;\n    }\n    .cityList{\n        display: flex;\n        flex-wrap: wrap;\n        .cityname{\n            color: #666 !important;\n        }\n        div{\n            width: 25%;\n            height: 40px;\n            line-height: 40px;\n            text-align: center;\n            font-size: 13px;\n            color: #3190e8;\n            border-right: 1px solid #e4e4e4;\n            border-bottom: 1px solid #e4e4e4;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a467c2c8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a467c2c8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a467c2c8\",\n  null\n  \n)\n\nexport default component.exports","import { requestGet } from \"@/utils/requset\";\n\n// 获取城市列表\nlet getCityLitst = (data)=> requestGet(`/v1/cities`,data);\n// 搜索城市地址\nlet getSearchCity = (data)=>requestGet(`/v1/pois`,data)\n// 获取城市详细信息\nlet getCityInfo = (id)=>requestGet(`/v1/cities/${id}`)\nexport {\n    getCityLitst,\n    getSearchCity,\n    getCityInfo\n}","import { Toast } from \"vant\"\n\nlet showLoading = ()=>{\n    Toast({\n        type:\"loading\",\n        message:\"加载中...\",\n        duration:0,\n        forbidClick:true\n    })\n}\n\nlet hideLoading = ()=>{\n    Toast.clear();\n}\n\nexport {\n    showLoading,\n    hideLoading\n}"],"names":["render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","_v","proxy","$store","state","user_id","attrs","_m","on","$event","goCityInfo","city","id","_s","name","_e","_l","hotList","item","index","allList","title","list","value","i","staticRenderFns","data","showLoading","type","console","keyList","hideLoading","methods","path","component","getCityLitst","requestGet","getSearchCity","getCityInfo","Toast","message","duration","forbidClick"],"sourceRoot":""}