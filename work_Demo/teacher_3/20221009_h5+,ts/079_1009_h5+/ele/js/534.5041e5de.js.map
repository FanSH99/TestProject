{"version":3,"file":"js/534.5041e5de.js","mappings":"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","sources":["webpack://ele/./src/views/cateInfo/components/selectShop.vue","webpack://ele/src/views/cateInfo/components/selectShop.vue","webpack://ele/./src/views/cateInfo/components/selectShop.vue?7fc4","webpack://ele/./src/views/cateInfo/components/selectShop.vue?52b7","webpack://ele/./src/api/cate.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"select\"},[_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\" 配送方式 \")]),_c('div',_vm._l((_vm.songList),function(item,index){return _c('div',{key:index,staticClass:\"song_name\",style:({color:!item.is_solid?'#'+item.color:''}),on:{\"click\":function($event){return _vm.selectModel(item)}}},[_c('van-icon',{attrs:{\"name\":item.is_solid?'eye-o':'success'}}),_vm._v(\" \"+_vm._s(item.text))],1)}),0),_c('div',{staticClass:\"attr_title\"},[_vm._v(\" 商家属性（可以多选） \")]),_c('div',{staticClass:\"attr_list\"},_vm._l((_vm.arrtList),function(item,index){return _c('div',{key:index,class:{active:item.isSelect},on:{\"click\":function($event){return _vm.changeAttr(index)}}},[_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isSelect),expression:\"item.isSelect\"}],attrs:{\"name\":\"success\"}}),_c('van-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(!item.isSelect),expression:\"!item.isSelect\"}],attrs:{\"plain\":\"\",\"color\":'#'+item.icon_color}},[_vm._v(_vm._s(item.icon_name))]),_vm._v(\" \"+_vm._s(item.name)+\" \")],1)}),0)]),_c('div',{staticClass:\"btn\"},[_c('div',{staticClass:\"clear\",on:{\"click\":_vm.clear}},[_vm._v(\" 清空 \")]),_c('div',{staticClass:\"confirm\",on:{\"click\":_vm.confirm}},[_vm._v(\" 确定 \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getSum!=0),expression:\"getSum!=0\"}]},[_vm._v(\"(\"+_vm._s(_vm.getSum)+\")\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"select\">\n    <div>\n        <div class=\"title\">\n            配送方式\n        </div>\n        <div>\n            <div class=\"song_name\" v-for=\"(item,index) in songList\" :key=\"index\" @click=\"selectModel(item)\" :style=\"{color:!item.is_solid?'#'+item.color:''}\"><van-icon :name=\"item.is_solid?'eye-o':'success'\" /> {{item.text}}</div>\n        </div>\n        <div class=\"attr_title\">\n                商家属性（可以多选）\n        </div>\n        <div class=\"attr_list\">\n            <div v-for=\"(item,index) in arrtList\" :key=\"index\" :class=\"{active:item.isSelect}\" @click=\"changeAttr(index)\">\n                <van-icon name=\"success\" v-show='item.isSelect'/>\n                <van-tag plain :color=\"'#'+item.icon_color\" v-show=\"!item.isSelect\">{{item.icon_name}}</van-tag> {{item.name}}\n            </div>\n        </div>\n    </div>\n    <div class=\"btn\">\n        <div class=\"clear\" @click=\"clear\">\n            清空\n        </div>\n        <div class=\"confirm\" @click=\"confirm\">\n            确定 <span v-show=\"getSum!=0\">({{getSum}})</span>\n        </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { getSongType,getShopAttr} from '@/api/cate';\nexport default {\n  props:['latitude','longitude'],\n  data(){\n    return {\n       songList:[],\n       arrtList:[],\n    //    用来存放当前选中配送方式\n       modeList:[],\n    //    用来存放当前选中的商家属性\n       shopList:[],\n       isRemove:false\n    }\n  },\n  async created(){\n    let data ={latitude:this.latitude,longitude:this.longitude};\n    // 获取配送方式\n    let res = await getSongType(data);\n    this.songList = res.data\n    // 获取商家属性列表\n    let resAttr = await getShopAttr(data);\n    this.arrtList = resAttr.data;\n    this.arrtList.forEach(item=>{\n        item.isSelect = false\n    })\n    console.log(this.arrtList)\n  },\n  methods:{\n    changeAttr(index){\n         \n         this.arrtList[index].isSelect = !this.arrtList[index].isSelect\n         this.arrtList = this.arrtList.concat([])\n        //  判断当前点击的属性是否为选中状态\n         if(this.arrtList[index].isSelect){\n             this.shopList.push(this.arrtList[index])\n         }else{\n            let i = this.shopList.findIndex(item=>{\n                return item.id === this.arrtList[index].id\n            })\n            if(i!==-1){\n                this.shopList.splice(i,1)\n            }\n         }\n    },\n    selectModel(item){\n        item.is_solid = !item.is_solid\n        console.log(item.is_solid)\n        // 判断当前配送模式是否为选中状态如为选中状态则添加到modeList\n        if(!item.is_solid){\n            this.modeList.push(item)\n        }else{\n            // 若未选中状态则需要将modeList中当前这一项删除\n            let index = this.modeList.findIndex(value=>{\n                return value.id ===item.id\n            })\n            if(index!=-1){\n                this.modeList.splice(index,1)\n            }\n        }\n    },\n    clear(){\n        this.modeList = [];\n        this.shopList = []\n        this.songList.forEach(item=>{\n            item.is_solid = true\n        })\n        this.arrtList.forEach(item=>{\n            item.isSelect = false;\n        })\n    },\n    confirm(){\n        this.$emit(\"sendidlist\",this.modeList,this.shopList)\n    }\n  },\n  computed:{\n    getSum(){\n        return this.modeList.length + this.shopList.length\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.select{\n    padding: 10px;\n    .title{\n        margin-bottom: 10px;\n        color: #555;\n        font-size: 14px;\n    }\n    .song_name{\n        width: 100px;\n            height: 32px;\n            line-height: 32px;\n        padding: 0px 5px;\n        border: 1px solid #e4e4e4;\n        font-size: 13px;\n        color: #666;\n    }\n    .attr_title{\n        font-size: 14px;\n        color: #555;\n        margin: 10px 0;\n    }\n    .attr_list{\n        display: flex;\n        flex-wrap: wrap;\n        div{\n            width: 100px;\n            height: 32px;\n            line-height: 32px;\n            padding: 0px 7px;\n            border: 1px solid #e4e4e4;\n            margin-bottom: 10px;\n            margin-right: 10px;\n            font-size: 13px;\n            color: #666;\n        }\n    }\n}\n.btn{\n    display: flex;\n    justify-content: space-between;\n   margin-top: 5px;\n    div{\n        width: 48%;\n        height: 40px;\n        line-height: 40px;\n        font-size: 13px;\n        text-align: center;\n    }\n    .clear{\n        border: 1px solid #e4e4e4;\n    }\n    .confirm{\n        background: #07c160;\n        color: #fff;\n    }\n}\n.active{\n    color: #3190e8 !important;\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectShop.vue?vue&type=template&id=9945c4f4&scoped=true&\"\nimport script from \"./selectShop.vue?vue&type=script&lang=js&\"\nexport * from \"./selectShop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectShop.vue?vue&type=style&index=0&id=9945c4f4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9945c4f4\",\n  null\n  \n)\n\nexport default component.exports","import { requestGet } from \"@/utils/requset\";\n\n// 获取分类列表\nlet getCateList = (data)=>requestGet(`/shopping/v2/restaurant/category`,data);\n\n// 获取配送方式\nlet getSongType = (data)=>requestGet(`/shopping/v1/restaurants/delivery_modes`,data);\n\n// 获取商家属性列表\nlet getShopAttr = (data)=>requestGet(`/shopping/v1/restaurants/activity_attributes`,data)\nexport {\n    getCateList,\n    getSongType,\n    getShopAttr\n}"],"names":["render","_vm","this","_c","_self","staticClass","_v","_l","songList","item","index","key","style","color","is_solid","on","$event","selectModel","attrs","_s","text","arrtList","class","active","isSelect","changeAttr","directives","name","rawName","value","expression","icon_color","icon_name","clear","confirm","getSum","staticRenderFns","props","data","modeList","shopList","isRemove","latitude","longitude","console","methods","computed","component","getCateList","requestGet","getSongType","getShopAttr"],"sourceRoot":""}