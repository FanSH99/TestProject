"use strict";(self["webpackChunkele"]=self["webpackChunkele"]||[]).push([[726],{4726:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"page"},[s("my-nav-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[s("div",{staticClass:"lefts"},[s("van-icon",{attrs:{name:"arrow-left"},on:{click:function(s){return e.$router.go(-1)}}})],1)]},proxy:!0},{key:"center",fn:function(){return[s("div",[e._v("密码登录")])]},proxy:!0}])}),s("div",{staticClass:"login"},[s("div",{staticClass:"username"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}})]),s("div",{staticClass:"password"},["checkbox"===(e.isShowPas?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(s){var a=e.password,t=s.target,o=!!t.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);t.checked?i<0&&(e.password=a.concat([r])):i>-1&&(e.password=a.slice(0,i).concat(a.slice(i+1)))}else e.password=o}}}):"radio"===(e.isShowPas?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(s){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:e.isShowPas?"text":"password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),s("van-switch",{attrs:{size:"20px"},model:{value:e.isShowPas,callback:function(s){e.isShowPas=s},expression:"isShowPas"}})],1),s("div",{staticClass:"code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.code},on:{input:function(s){s.target.composing||(e.code=s.target.value)}}}),s("img",{attrs:{src:e.codeUrl,alt:""}}),s("div",{staticClass:"title"},[s("div",[e._v("看不清")]),s("div",{staticStyle:{color:"#3190e8"},on:{click:e.getcode}},[e._v("换一张")])])])]),e._m(0),s("div",{staticClass:"btn"},[s("van-button",{attrs:{type:"primary",block:""},on:{click:e.Login}},[e._v("登录")])],1),s("div",{staticClass:"reset"},[e._v("重置密码?")])],1)},o=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"tip_msg"},[s("p",[e._v("温馨提示：未注册过的账号，登录时将自动注册")]),s("p",[e._v("注册过的用户可凭账号密码登录")])])}],r=a(8848),i=a(6938),n=a(6265),c=a.n(n);c().defaults.baseURL="/elelogin";let d=()=>(0,i.j)("/v1/captchas"),l=e=>new Promise(((s,a)=>{c().post("/v2/login",e).then((e=>{s(e)}))}));var p={data(){return{username:"",password:"",isShowPas:!1,code:"",codeUrl:""}},async created(){this.getcode()},methods:{async getcode(){let e=await d();this.codeUrl=e.data.code},async Login(){if(console.log(123456),!this.username||!this.password)return void r.Z.fail("请您补充完整信息！");let e={username:this.username,password:this.password,captcha_code:this.code},s=await l(e);console.log(s),0!=s.data.status?(this.$store.commit("loginUserId",s.data.user_id),this.$router.go(-1)):r.Z.fail(s.data.message)}}},u=p,v=a(1001),m=(0,v.Z)(u,t,o,!1,null,"70b9523c",null),w=m.exports}}]);
//# sourceMappingURL=726.473a2727.js.map