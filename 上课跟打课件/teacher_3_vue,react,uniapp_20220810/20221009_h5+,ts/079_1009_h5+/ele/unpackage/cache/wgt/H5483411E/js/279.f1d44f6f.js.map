{"version":3,"file":"js/279.f1d44f6f.js","mappings":"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","sources":["webpack://ele/./src/components/shop/index.vue","webpack://ele/src/components/shop/index.vue","webpack://ele/./src/components/shop/index.vue?6049","webpack://ele/./src/components/shop/index.vue?6d5d","webpack://ele/./src/views/takeout/index.vue","webpack://ele/src/views/takeout/index.vue","webpack://ele/./src/views/takeout/index.vue?dad9","webpack://ele/./src/views/takeout/index.vue?264f","webpack://ele/./src/api/home.js","webpack://ele/./src/tools/loadingToast.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"shops\",on:{\"click\":_vm.goInfo}},[_c('div',{staticClass:\"shop_img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(`https://elm.cangdu.org/img/${_vm.shopInfo.image_path}`),expression:\"`https://elm.cangdu.org/img/${shopInfo.image_path}`\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"shop_info\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"position\":\"relative\"}},[_c('van-tag',{attrs:{\"color\":\"#3190e8\"}},[_vm._v(\"品牌\")]),_c('span',{staticClass:\"ys\"},[_vm._v(_vm._s(_vm.shopInfo.name))]),_c('ul',{staticClass:\"ul\"},_vm._l((_vm.shopInfo.supports),function(item,index){return _c('li',{key:index},[_vm._v(_vm._s(item.icon_name))])}),0)],1),_c('div',{staticClass:\"shop_rot\"},[_c('van-rate',{attrs:{\"size\":8,\"color\":\"#ffd21e\",\"void-icon\":\"star\",\"void-color\":\"#eee\"},model:{value:(_vm.shopInfo.rating),callback:function ($$v) {_vm.$set(_vm.shopInfo, \"rating\", $$v)},expression:\"shopInfo.rating\"}}),_c('span',{staticClass:\"rate\"},[_vm._v(_vm._s(_vm.shopInfo.rating))]),_c('span',{staticClass:\"sale\"},[_vm._v(\"月销\"+_vm._s(_vm.shopInfo.recent_order_num)+\"单\")]),_c('span',{staticClass:\"tag\"},[(_vm.shopInfo.delivery_mode)?_c('van-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.shopInfo.delivery_mode.text))]):_vm._e(),_vm._l((_vm.shopInfo.supports),function(item,index){return _c('span',{key:index},[(item.icon_name=='准')?_c('van-tag',{staticClass:\"s\",attrs:{\"plain\":\"\",\"type\":\"primary\"}},[_vm._v(\"准时达\")]):_vm._e()],1)})],2)],1),_c('div',{staticClass:\"shop_song\"},[_c('span',[_vm._v(\" ￥\"+_vm._s(_vm.shopInfo.float_minimum_order_amount)+\"起送 / 配送费约¥\"+_vm._s(_vm.shopInfo.float_delivery_fee)+\" \")]),_c('span',[_c('span',{staticClass:\"gl\"},[_vm._v(_vm._s(_vm.shopInfo.distance)+\" /\")]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.shopInfo.order_lead_time))])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"shops\" @click=\"goInfo\">\n      <div class=\"shop_img\">\n        <img v-lazy='`https://elm.cangdu.org/img/${shopInfo.image_path}`' alt=\"\" />\n      </div>\n      <div class=\"shop_info\">\n        <div style=\"display: flex; position: relative;\">\n          <van-tag color=\"#3190e8\">品牌</van-tag> \n          <span class=\"ys\">{{shopInfo.name}}</span>\n          <ul class=\"ul\">\n            <li v-for=\"(item,index) in shopInfo.supports\" :key=\"index\">{{item.icon_name}}</li>\n          </ul>\n        </div>\n        <div class=\"shop_rot\">\n          <van-rate\n            :size=\"8\"\n            v-model=\"shopInfo.rating\"\n            color=\"#ffd21e\"\n            void-icon=\"star\"\n            void-color=\"#eee\"\n          />\n          <span class=\"rate\">{{shopInfo.rating}}</span>\n          <span class=\"sale\">月销{{shopInfo.recent_order_num}}单</span>\n          <span class=\"tag\">\n              <van-tag type=\"primary\" v-if=\"shopInfo.delivery_mode\">{{shopInfo.delivery_mode.text}}</van-tag>\n              \n              <span v-for=\"(item,index) in shopInfo.supports\" :key=\"index\">\n                <van-tag plain type=\"primary\" class=\"s\" v-if=\"item.icon_name=='准'\">准时达</van-tag>\n              </span>\n          </span>\n        </div>\n        <div class=\"shop_song\">\n            <span>\n                ￥{{shopInfo.float_minimum_order_amount}}起送 / 配送费约¥{{shopInfo.float_delivery_fee}} \n            </span>\n            <span>\n                <span class=\"gl\">{{shopInfo.distance}} /</span> <span class=\"time\">{{shopInfo.order_lead_time}}</span>\n            </span>\n        </div>\n      </div>\n    </div>\n  </template>\n  <script>\n  export default {\n     props:{\n        shopInfo:Object\n     },\n      data(){\n          return{\n            value:8\n          }\n      },\n      methods:{\n        goInfo(){\n          this.$router.push({\n            path:\"/shop/info/\"+this.shopInfo.id\n          })\n        }\n      }\n  };\n  </script>\n  <style lang=\"less\" scoped>\n  .shops {\n    padding: 15px 10px;\n    border-bottom: 1px solid #f1f1f1;\n    display: flex;\n    justify-content: space-between;\n    .shop_img {\n      width: 18%;\n      img {\n        width: 100%;\n      }\n    }\n    .shop_info {\n      width: 79%;\n      font-size: 13px;\n    \n      .ys {\n        font-weight: bold;\n        margin-left: 5px;\n        font-size: 15px;\n        width: 60%; \n        display: inline-block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .ul {\n        display: flex;\n        position: absolute;\n        right: 0;\n        color: #b4b4b4;\n        li {\n          font-size: 10px;\n          transform: scale(0.8);\n          border: 1px solid #f1f1f1;\n        }\n      }\n    }\n    .rate{\n        color:#ff6000;\n        font-size: 10px;\n        margin-left: 10px;\n    }\n    .sale{\n        display: inline-block;\n        font-size: 10px;\n        color:#666;\n        transform: scale(0.8);\n    }\n    .tag{\n       \n        position: absolute;\n        right: 0;\n        .s{\n            margin-left: 2px;\n        }\n    }\n    .shop_rot{\n        position: relative;\n        margin-top: 15px;\n    }\n  }\n  .shop_song{\n      display: flex;\n            margin-top: 15px;\n      justify-content: space-between;\n      font-size: 13px;\n      color: #666;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      .gl{\n          color: #b4b4b4;\n      }\n      .time{\n          color: #3190e8;\n      }\n  }\n  </style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=63f34dfb&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=63f34dfb&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63f34dfb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page pagehome\"},[_c('my-nav-bar',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\"}})]},proxy:true},{key:\"center\",fn:function(){return [(_vm.city)?_c('div',{staticClass:\"cityname\",on:{\"click\":function($event){return _vm.$router.push('/city')}}},[_vm._v(\" \"+_vm._s(_vm.city.name)+\" \")]):_vm._e()]},proxy:true},{key:\"right\",fn:function(){return [(!_vm.$store.state.user_id)?_c('div',[_vm._v(\"登录 | 注册\")]):_c('div',[_c('van-icon',{attrs:{\"name\":\"contact\"}})],1)]},proxy:true}])}),(_vm.cateList.length == 0)?_c('div',[_c('my-cate')],1):_c('div',{staticClass:\"mySwiper\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"#3190e8\"}},_vm._l((_vm.cateList),function(item,index){return _c('van-swipe-item',{key:index},[_c('div',{staticClass:\"cate\"},_vm._l((item),function(value,i){return _c('div',{key:i,staticClass:\"cate_item\",on:{\"click\":function($event){return _vm.goInfo(value.id,value.title)}}},[_c('img',{attrs:{\"src\":'https://fuss10.elemecdn.com' + value.image_url,\"alt\":\"\"}}),_c('p',[_vm._v(\" \"+_vm._s(value.title)+\" \")])])}),0)])}),1)],1),(_vm.shopList.length != 0)?_c('div',{staticClass:\"shopList\"},[_c('div',{staticClass:\"title\"},[_c('van-icon',{attrs:{\"name\":\"shop-o\"}}),_vm._v(\" 附近商家\")],1),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"offset\":\"50\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"list\"},_vm._l((_vm.shopList),function(item,index){return _c('div',{key:index,staticClass:\"list_item\"},[_c('myshop',{attrs:{\"shopInfo\":item}})],1)}),0)])],1):_c('div',{staticClass:\"loading\"},_vm._l((6),function(item,index){return _c('img',{key:index,attrs:{\"src\":require(\"@/assets/loading.svg\"),\"alt\":\"\"}})}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page pagehome\">\n    <my-nav-bar>\n      <template #left>\n        <van-icon name=\"search\" />\n      </template>\n      <template #center>\n        <div v-if=\"city\" class=\"cityname\" @click=\"$router.push('/city')\">\n          {{ city.name }}\n        </div>\n      </template>\n      <template #right>\n        <div v-if=\"!$store.state.user_id\">登录 | 注册</div>\n        <div v-else>\n          <van-icon name=\"contact\" />\n        </div>\n      </template>\n    </my-nav-bar>\n    <div v-if=\"cateList.length == 0\">\n      <my-cate></my-cate>\n    </div>\n    <div class=\"mySwiper\" v-else>\n      <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"#3190e8\">\n        <van-swipe-item v-for=\"(item, index) in cateList\" :key=\"index\">\n          <div class=\"cate\">\n            <div class=\"cate_item\" v-for=\"(value, i) in item\" :key=\"i\" @click=\"goInfo(value.id,value.title)\">\n              <img\n                :src=\"'https://fuss10.elemecdn.com' + value.image_url\"\n                alt=\"\"\n              />\n              <p>\n                {{ value.title }}\n              </p>\n            </div>\n          </div>\n        </van-swipe-item>\n      </van-swipe>\n    </div>\n    <div class=\"shopList\" v-if=\"shopList.length != 0\">\n      <div class=\"title\"><van-icon name=\"shop-o\" /> 附近商家</div>\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n        offset=\"50\"\n      >\n        <div class=\"list\">\n          <div v-for=\"(item, index) in shopList\" :key=\"index\" class=\"list_item\">\n            <myshop :shopInfo=\"item\"></myshop>\n          </div>\n        </div>\n      </van-list>\n    </div>\n    <div class=\"loading\" v-else>\n      <img\n        src=\"@/assets/loading.svg\"\n        alt=\"\"\n        v-for=\"(item, index) in 6\"\n        :key=\"index\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { getLocation, getShopCate, getShopList } from \"@/api/home\";\nimport { hideLoading, showLoading } from \"@/tools/loadingToast\";\nimport myshop from \"@/components/shop\";\nexport default {\n  data() {\n    return {\n      city: null,\n      cateList: [],\n      shopList: [],\n      offset: 0,\n      loading:false,\n      finished:false\n    };\n  },\n  components: {\n    myshop,\n  },\n  async created() {\n    // 获取路径传递的经纬度\n    let geohash = this.$route.query.geohash;\n    showLoading();\n    // console.log(geohash)\n    let res = await getLocation(geohash);\n    this.city = res.data;\n    hideLoading();\n    // 获取店铺分类\n    let data = await getShopCate();\n    let num = data.data.length / 8;\n    num = Math.floor(num);\n    let cateList = [];\n    for (let i = 0; i < num; i++) {\n      cateList[i] = data.data.slice(i * 8, (i + 1) * 8);\n    }\n    if (data.data.length % 8 != 0) {\n      // 获取 余数\n      let n = data.data % 8;\n      //  n = 2\n      cateList[num] = data.data.slice(num * 8);\n    }\n    this.cateList = cateList;\n    //  获取店铺列表\n    this.getDataList();\n  },\n  methods: {\n    async getDataList() {\n      let data = {\n        latitude: this.city.latitude,\n        longitude: this.city.longitude,\n        offset: this.offset,\n      };\n      let res = await getShopList(data);\n      console.log(res);\n      this.shopList = [...this.shopList,...res.data]\n      this.loading = false\n      // 若请求到数组长度为0时则表示没有数据啦\n      if(res.data.length ==0){\n        this.finished = true\n      }\n    },\n    onLoad(){\n      this.offset +=20;\n      // this.loading = true;\n      console.log(\"滚动到底部啦\")\n      this.getDataList();\n    },\n    // 跳转详情\n    goInfo(id,title){\n      this.$router.push({\n        path:\"/cate/info\",\n        query:{\n          latitude:this.city.latitude,\n          longitude:this.city.longitude,\n          id:id,\n          title:title\n        }\n      })\n    }\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.cityname {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.cate {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  background: #fff;\n  padding-top: 20px;\n  .cate_item {\n    width: 25%;\n    text-align: center;\n    margin-bottom: 20px;\n    img {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n    }\n    p {\n      font-size: 14px;\n      color: #666;\n      margin-top: 5px;\n    }\n  }\n}\n.mySwiper {\n  border-bottom: 1px solid #e4e4e4;\n}\n.loading {\n  img {\n    width: 100%;\n  }\n}\n.shopList {\n  margin-top: 10px;\n  background: #fff;\n  .title {\n    padding: 15px;\n    font-size: 13px;\n    color: #9b9b9b;\n  }\n}\n.pagehome {\n  padding-bottom: 13.33333vw;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3dc7e24c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3dc7e24c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dc7e24c\",\n  null\n  \n)\n\nexport default component.exports","import { requestGet } from \"@/utils/requset\";\n\n// 根据经纬度获取 定位详细信息\nlet getLocation = (geohash)=> requestGet(`/v2/pois/${geohash}`);\n\n// 获取店铺分类\nlet getShopCate = ()=>requestGet(`/v2/index_entry`)\n\n// 获取店铺列表\nlet getShopList = (data)=>requestGet(`/shopping/restaurants`,data)\nexport {\n    getLocation,\n    getShopCate,\n    getShopList\n}","import { Toast } from \"vant\"\n\nlet showLoading = ()=>{\n    Toast({\n        type:\"loading\",\n        message:\"加载中...\",\n        duration:0,\n        forbidClick:true\n    })\n}\n\nlet hideLoading = ()=>{\n    Toast.clear();\n}\n\nexport {\n    showLoading,\n    hideLoading\n}"],"names":["render","_vm","this","_c","_self","staticClass","on","goInfo","directives","name","rawName","value","shopInfo","image_path","expression","attrs","staticStyle","_v","_s","_l","supports","item","index","key","icon_name","model","rating","callback","$$v","$set","recent_order_num","delivery_mode","text","_e","float_minimum_order_amount","float_delivery_fee","distance","order_lead_time","staticRenderFns","props","data","methods","path","component","scopedSlots","_u","fn","proxy","city","$event","$router","push","$store","state","user_id","cateList","length","i","id","title","image_url","shopList","finished","onLoad","loading","require","offset","components","myshop","showLoading","hideLoading","num","latitude","longitude","console","query","getLocation","geohash","requestGet","getShopCate","getShopList","Toast","type","message","duration","forbidClick"],"sourceRoot":""}