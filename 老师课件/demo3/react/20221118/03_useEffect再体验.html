<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">

    </div>
</body>
<script src="../react.development.js"></script>
<script src="../react-dom.development.js"></script>
<!-- babel.js 用来将jsx编译为js -->
<script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
<!-- 告诉script标签在里面可以写任意代码 写完后可以使用babel进行编译 -->
<script type="text/babel">
    let {useState,useEffect} = React;
    console.log(React)
    function App(){
        let [isShow,setShow] = useState(true)
        return (
             <div>
                <h1>app组件</h1>
                {
                    isShow && <Child/>
                }  
                <button onClick={()=>{
                    isShow = !isShow;
                    setShow(isShow)
                }}>切换</button>
              </div>
        )
    }

    function Child(){
        useEffect(()=>{
            let timer = setInterval(() => {
                    console.log("嘎嘎嘎")
            }, 1000);
            window.onresize = ()=>{
                console.log("窗口改变啦")
            }
            return ()=>{
                // 表示组件销毁时调用
                console.log("组件销毁")
                clearInterval(timer)
                window.onresize = null;
            }
        },[])
        useEffect(()=>{
            console.log("哈哈哈哈")
        },[])
        return(
             <div>子组件</div>
        )
    }

    ReactDOM.render(<App/>,document.getElementById("app"))
</script>
</html>